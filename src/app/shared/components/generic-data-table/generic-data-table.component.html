<bsc-table-toolbar [title]="config.title || 'Lista'" (export)="exportCSV()" />

<p-table
    #dt
    [value]="data"
    [rows]="config.rows || 10"
    [lazy]="true"
    [paginator]="true"
    [rowsPerPageOptions]="config.rowsPerPageOptions || [10, 20, 30]"
    [globalFilterFields]="config.globalFilterFields || []"
    (onLazyLoad)="onLazyLoad($event)"
    [tableStyle]="{ 'min-width': '75rem' }"
    [rowHover]="true"
>
    <ng-template pTemplate="caption">
        <div class="flex justify-between items-center">
            <h5 class="m-0">{{ config.title }}</h5>
            <p-iconfield>
                <p-inputicon styleClass="pi pi-search" />
                <input
                    pInputText
                    type="text"
                    (input)="globalFilter($event)"
                    placeholder="Buscar..."
                />
            </p-iconfield>
        </div>
    </ng-template>

    <ng-template pTemplate="header">
        <tr>
            <th
                *ngFor="let col of config.columns"
                [pSortableColumn]="col.sortable ? col.field : undefined"
            >
                {{ col.header }}
                <p-sortIcon *ngIf="col.sortable" [field]="col.field" />
            </th>
            <th *ngIf="config.actions?.length"></th>
        </tr>
    </ng-template>

    <ng-template pTemplate="body" let-row>
        <tr>
            <td *ngFor="let col of config.columns">
                {{ row[col.field] }}
            </td>
            <td *ngIf="config.actions?.length">
                <bsc-table-actions [row]="row" [actions]="config.actions!" />
            </td>
        </tr>
    </ng-template>
</p-table>
